{"ast":null,"code":"import { AUTHORIZE, OUT_AUTHORIZE } from \"../action-types\";\nconst uuidv1 = requeri('uuid');\nconst initialState = {\n  user: {\n    email: localStorage.getItem('email'),\n    isAuth: localStorage.getItem('isAuth'),\n    uuid: ''\n  },\n  messages: {\n    mess: null,\n    userName: null,\n    source: false,\n    userAvatar: '',\n    date: '',\n    userId: ''\n  }\n};\n\nfunction rootReducer(state = initialState, action) {\n  if (action.type === OUT_AUTHORIZE) {\n    localStorage.removeItem('email');\n    localStorage.removeItem('sessid');\n    return Object.assign({}, state, {\n      user: {\n        email: '',\n        sessid: ''\n      }\n    });\n  }\n\n  if (action.type === AUTHORIZE) {\n    let email = action.payload.email;\n    let sessid = action.payload.sessid;\n    let uuid = uuidv1();\n    localStorage.setItem('email', email);\n    localStorage.setItem('sessid', sessid);\n    console.log(uuid);\n    return Object.assign({}, state, {\n      user: {\n        email,\n        sessid,\n        uuid\n      }\n    });\n  }\n\n  return state;\n}\n\nexport default rootReducer;","map":{"version":3,"sources":["D:/studi/reactapp/client/src/store/reducers/index.js"],"names":["AUTHORIZE","OUT_AUTHORIZE","uuidv1","requeri","initialState","user","email","localStorage","getItem","isAuth","uuid","messages","mess","userName","source","userAvatar","date","userId","rootReducer","state","action","type","removeItem","Object","assign","sessid","payload","setItem","console","log"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,aAApB,QAAyC,iBAAzC;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,MAAD,CAAtB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADH;AAEJC,IAAAA,MAAM,EAAEF,YAAY,CAACC,OAAb,CAAqB,QAArB,CAFJ;AAGJE,IAAAA,IAAI,EAAE;AAHF,GADa;AASnBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAE,IADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,MAAM,EAAE,KAHA;AAIRC,IAAAA,UAAU,EAAE,EAJJ;AAKRC,IAAAA,IAAI,EAAE,EALE;AAMRC,IAAAA,MAAM,EAAE;AANA;AATS,CAArB;;AAoBA,SAASC,WAAT,CAAqBC,KAAK,GAAGf,YAA7B,EAA2CgB,MAA3C,EAAmD;AAEjD,MAAIA,MAAM,CAACC,IAAP,KAAgBpB,aAApB,EAAmC;AAEjCM,IAAAA,YAAY,CAACe,UAAb,CAAwB,OAAxB;AACAf,IAAAA,YAAY,CAACe,UAAb,CAAwB,QAAxB;AAEA,WAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9Bd,MAAAA,IAAI,EAAE;AACJC,QAAAA,KAAK,EAAE,EADH;AAEJmB,QAAAA,MAAM,EAAE;AAFJ;AADwB,KAAzB,CAAP;AAMD;;AAED,MAAIL,MAAM,CAACC,IAAP,KAAgBrB,SAApB,EAA+B;AAC7B,QAAIM,KAAK,GAAGc,MAAM,CAACM,OAAP,CAAepB,KAA3B;AACA,QAAImB,MAAM,GAAGL,MAAM,CAACM,OAAP,CAAeD,MAA5B;AACA,QAAIf,IAAI,GAAGR,MAAM,EAAjB;AAEAK,IAAAA,YAAY,CAACoB,OAAb,CAAqB,OAArB,EAA8BrB,KAA9B;AACAC,IAAAA,YAAY,CAACoB,OAAb,CAAqB,QAArB,EAA+BF,MAA/B;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYnB,IAAZ;AACA,WAAOa,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9Bd,MAAAA,IAAI,EAAE;AACJC,QAAAA,KADI;AAEJmB,QAAAA,MAFI;AAGJf,QAAAA;AAHI;AADwB,KAAzB,CAAP;AAOD;;AACD,SAAOS,KAAP;AACD;;AAED,eAAeD,WAAf","sourcesContent":["import { AUTHORIZE, OUT_AUTHORIZE } from \"../action-types\";\r\nconst uuidv1 = requeri('uuid');\r\n\r\nconst initialState = {\r\n  user: {\r\n    email: localStorage.getItem('email'),\r\n    isAuth: localStorage.getItem('isAuth'),\r\n    uuid: ''\r\n  },\r\n\r\n\r\n\r\n  messages: {\r\n    mess: null,\r\n    userName: null,\r\n    source: false,\r\n    userAvatar: '',\r\n    date: '',\r\n    userId: ''\r\n  }\r\n};\r\n\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n\r\n  if (action.type === OUT_AUTHORIZE) {\r\n\r\n    localStorage.removeItem('email');\r\n    localStorage.removeItem('sessid');\r\n\r\n    return Object.assign({}, state, {\r\n      user: {\r\n        email: '',\r\n        sessid: ''\r\n      }\r\n    })\r\n  }\r\n\r\n  if (action.type === AUTHORIZE) {\r\n    let email = action.payload.email\r\n    let sessid = action.payload.sessid\r\n    let uuid = uuidv1();\r\n\r\n    localStorage.setItem('email', email);\r\n    localStorage.setItem('sessid', sessid);\r\n    console.log(uuid);\r\n    return Object.assign({}, state, {\r\n      user: {\r\n        email,\r\n        sessid,\r\n        uuid\r\n      }\r\n    });\r\n  }\r\n  return state;\r\n}\r\n\r\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}